.title kicad schematic

.include 74LS299_sub.sub
* u2 net-_u2-pad1_ gnd net-_x1-pad13_ net-_x1-pad14_ adc_bridge_2
* u1 s1 s0 net-_u1-pad3_ net-_u1-pad4_ adc_bridge_2
* u6 s0 plot_v1
* u5 s1 plot_v1
v3 net-_u2-pad1_ gnd  dc 5v
v2 s0 gnd pulse(5v 0v 1000ms 1n 1n 500ms 1000ms)
v1 s1 gnd pulse(5v 0v 1000ms 1n 1n 1000ms 2000ms)
* u4 net-_u4-pad1_ net-_u4-pad2_ shift_left shift_right dac_bridge_2
* u3 unconnected-_u3-pad1_ clock serial_in net-_u3-pad4_ net-_u3-pad5_ net-_u3-pad6_ adc_bridge_3
* u10 shift_left plot_v1
r2 shift_left gnd 1k
r1 shift_right gnd 1k
* u7 clock plot_v1
* u8 shift_right plot_v1
v5 serial_in gnd pulse(5v 0v 0 1n 1n 40ms 80ms)
v4 clock gnd pulse(5v 0v 0 1n 1n 20ms 40ms)
* u9 serial_in plot_v1
x1 net-_u1-pad4_ net-_x1-pad14_ net-_x1-pad14_ net-_x1-pad14_ net-_x1-pad13_ net-_x1-pad14_ net-_x1-pad14_ net-_u4-pad1_ net-_x1-pad14_ net-_x1-pad14_ net-_u3-pad4_ net-_u3-pad5_ net-_x1-pad13_ net-_x1-pad14_ net-_x1-pad13_ net-_x1-pad13_ net-_u4-pad2_ net-_u3-pad6_ net-_u1-pad3_ net-_x1-pad13_ 74LS299_sub
a1 [net-_u2-pad1_ gnd ] [net-_x1-pad13_ net-_x1-pad14_ ] u2
a2 [s1 s0 ] [net-_u1-pad3_ net-_u1-pad4_ ] u1
a3 [net-_u4-pad1_ net-_u4-pad2_ ] [shift_left shift_right ] u4
a4 [unconnected-_u3-pad1_ clock serial_in ] [net-_u3-pad4_ net-_u3-pad5_ net-_u3-pad6_ ] u3
* Schematic Name:                             adc_bridge_2, Ngspice Name: adc_bridge
.model u2 adc_bridge(in_low=0v in_high=5v rise_delay=1.0e-9 fall_delay=1.0e-9 ) 
* Schematic Name:                             adc_bridge_2, Ngspice Name: adc_bridge
.model u1 adc_bridge(in_low=0v in_high=5v rise_delay=1.0e-9 fall_delay=1.0e-9 ) 
* Schematic Name:                             dac_bridge_2, Ngspice Name: dac_bridge
.model u4 dac_bridge(out_low=0v out_high=5v out_undef=0.5 input_load=1.0e-12 t_rise=1.0e-9 t_fall=1.0e-9 ) 
* Schematic Name:                             adc_bridge_3, Ngspice Name: adc_bridge
.model u3 adc_bridge(in_low=0v in_high=5v rise_delay=1.0e-9 fall_delay=1.0e-9 ) 
.tran 1e-03 1900e-03 750e-03

* Control Statements 
.control
run
print allv > plot_data_v.txt
print alli > plot_data_i.txt
plot v(s0)
plot v(s1)
plot v(shift_left)
plot v(clock)
plot v(shift_right)
plot v(serial_in)
.endc
.end
